# Mapping configuration for tabular data to MCAP conversion
# This file defines how different CSV files should be processed and converted

writer_format: "protobuf"  # Output format: ros1, ros2, json, or protobuf. Other formats are not supported yet.

# Tabular data mappings
tabular_mappings:
  - file_pattern: '**/*.parquet'
    converter_functions:
      - function_name: "row_to_message_with_timestamp"
        schema_name: null
        topic_suffix: "Data"
        exclude_columns:
          - "timestamp"

other_mappings: # doesn't work 100% yet due to time offset
  - type: "compressed_image"
    file_pattern: '**/episode_000000.mp4'
    topic_suffix: "CompressedImage"
    frame_id: "camera"
    format: "jpeg"

  - type: "compressed_video"
    file_pattern: '**/episode_000000.mp4'
    topic_suffix: "CompressedVideo"
    frame_id: "camera"
    format: "h264"

  - type: "log"
    file_pattern: '**/episode_000000.log'
    topic_suffix: "Log"
    format_template: "^{{levelname}}\\s{{asctime}}\\s{{filename}}:{{lineno}}\\s{{message}}$"
    datetime_format: "%Y-%m-%d %H:%M:%S"

attachments: []

metadata: []
